<aside 
   [class.w-80]="!isCollapsed"
   [class.w-20]="isCollapsed"
   [class.translate-x-0]="isOpen"
   [class.-translate-x-full]="!isOpen"
   class="sidebar fixed mt-16 w-64 lg:static lg:translate-x-0 z-20 h-[calc(100vh-64px)] transition-all duration-300 ease-in-out overflow-y-auto">
  <div class="mt-1 px-4 py-5"></div>
  <nav class="mt-1 px-4">
    <!-- Tableau de bord -->
    <a routerLink="/wingf/dashboard" 
       routerLinkActive="bg-primary/25" 
       [ngClass]="{ 'bg-primary/25': isActiveLink('/wingf/dashboard') }"
       class="flex items-center space-x-2 p-2 my-2 rounded-lg hover:bg-primary/25 transition-colors"
       [class.justify-center]="isCollapsed">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
      </svg>
      <span *ngIf="!isCollapsed">{{ 'sidebar.Dashboard' | translate }}</span>
    </a>

    <!-- Lots du Parc -->
    <div class="space-y-1">
      <button 
        (click)="toggleMenu('lotsParc')"
        class="flex items-center justify-between w-full p-2 rounded-lg hover:bg-primary/25 transition-colors"
        [class.justify-center]="isCollapsed">
        <div class="flex items-center space-x-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <rect x="3" y="7" width="18" height="10" rx="2" stroke-width="2"/>
            <path d="M3 7l9 6 9-6" stroke-width="2"/>
          </svg>
          <span *ngIf="!isCollapsed" class="text-sm font-bold text-black tracking-wide">
            Lots du Parc
          </span>
        </div>
        <svg 
          *ngIf="!isCollapsed"
          class="w-4 h-4 transition-transform duration-200 text-black" 
          [class.rotate-180]="menuStates.lotsParc"
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </button>
      <div 
        class="space-y-1 pl-4 transition-all duration-200 overflow-hidden"
        [class.max-h-0]="!menuStates.lotsParc"
        [class.max-h-96]="menuStates.lotsParc">
        <a routerLink="/lots/paquets" 
           routerLinkActive="bg-primary/25"
           [ngClass]="{ 'bg-primary/25': isActiveLink('/lots/paquets') }"
           class="flex items-center space-x-2 p-2 rounded-lg hover:bg-primary/25 transition-colors"
           [class.justify-center]="isCollapsed">
          <span *ngIf="!isCollapsed">Paquets / colis</span>
        </a>
        <a routerLink="/lots/produits" 
           routerLinkActive="bg-primary/25"
           [ngClass]="{ 'bg-primary/25': isActiveLink('/lots/produits') }"
           class="flex items-center space-x-2 p-2 rounded-lg hover:bg-primary/25 transition-colors"
           [class.justify-center]="isCollapsed">
          <span *ngIf="!isCollapsed">Produits</span>
        </a>
      </div>
    </div>

    <!-- Stock winPARC -->
    <div class="space-y-1">
      <button 
        (click)="toggleMenu('stock')"
        class="flex items-center justify-between w-full p-2 rounded-lg hover:bg-primary/25 transition-colors"
        [class.justify-center]="isCollapsed">
        <div class="flex items-center space-x-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <rect x="4" y="4" width="16" height="16" rx="2" stroke-width="2"/>
            <path d="M4 9h16" stroke-width="2"/>
          </svg>
          <span *ngIf="!isCollapsed" class="text-sm font-bold text-black tracking-wide">
            Stock winPARC
          </span>
        </div>
        <svg 
          *ngIf="!isCollapsed"
          class="w-4 h-4 transition-transform duration-200 text-black" 
          [class.rotate-180]="menuStates.stock"
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </button>
      <div 
        class="space-y-1 pl-4 transition-all duration-200 overflow-hidden"
        [class.max-h-0]="!menuStates.stock"
        [class.max-h-96]="menuStates.stock">
        <a routerLink="/stock/comptes" 
           routerLinkActive="bg-primary/25"
           [ngClass]="{ 'bg-primary/25': isActiveLink('/stock/comptes') }"
           class="flex items-center space-x-2 p-2 rounded-lg hover:bg-primary/25 transition-colors"
           [class.justify-center]="isCollapsed">
          <span *ngIf="!isCollapsed">Comptes</span>
        </a>
        <a routerLink="/stock/paquets" 
           routerLinkActive="bg-primary/25"
           [ngClass]="{ 'bg-primary/25': isActiveLink('/stock/paquets') }"
           class="flex items-center space-x-2 p-2 rounded-lg hover:bg-primary/25 transition-colors"
           [class.justify-center]="isCollapsed">
          <span *ngIf="!isCollapsed">Paquets / colis</span>
        </a>
      </div>
    </div>

    <!-- Administration -->
    <div class="space-y-1">
      <button 
        (click)="toggleMenu('administration')"
        class="flex items-center justify-between w-full p-2 rounded-lg hover:bg-primary/25 transition-colors"
        [class.justify-center]="isCollapsed">
        <div class="flex items-center space-x-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 4v16m8-8H4" />
          </svg>
          <span *ngIf="!isCollapsed" class="text-sm font-bold text-black tracking-wide">
            Administration
          </span>
        </div>
        <svg 
          *ngIf="!isCollapsed"
          class="w-4 h-4 transition-transform duration-200 text-black" 
          [class.rotate-180]="menuStates.administration"
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </button>
      <div 
        class="space-y-1 pl-4 transition-all duration-200 overflow-hidden"
        [class.max-h-0]="!menuStates.administration"
        [class.max-h-96]="menuStates.administration">
        <a routerLink="/admin/commandes" 
           routerLinkActive="bg-primary/25"
           [ngClass]="{ 'bg-primary/25': isActiveLink('/admin/commandes') }"
           class="flex items-center space-x-2 p-2 rounded-lg hover:bg-primary/25 transition-colors"
           [class.justify-center]="isCollapsed">
          <span *ngIf="!isCollapsed">Commandes</span>
        </a>
        <a routerLink="/admin/lignes-commande" 
           routerLinkActive="bg-primary/25"
           [ngClass]="{ 'bg-primary/25': isActiveLink('/admin/lignes-commande') }"
           class="flex items-center space-x-2 p-2 rounded-lg hover:bg-primary/25 transition-colors"
           [class.justify-center]="isCollapsed">
          <span *ngIf="!isCollapsed">Lignes de commande</span>
        </a>
        <a routerLink="/admin/bordereaux-livraison" 
           routerLinkActive="bg-primary/25"
           [ngClass]="{ 'bg-primary/25': isActiveLink('/admin/bordereaux-livraison') }"
           class="flex items-center space-x-2 p-2 rounded-lg hover:bg-primary/25 transition-colors"
           [class.justify-center]="isCollapsed">
          <span *ngIf="!isCollapsed">Bordereaux de livraison</span>
        </a>
      </div>
    </div>

    <!-- Production -->
    <div class="space-y-1">
      <button 
        (click)="toggleMenu('production')"
        class="flex items-center justify-between w-full p-2 rounded-lg hover:bg-primary/25 transition-colors"
        [class.justify-center]="isCollapsed">
        <div class="flex items-center space-x-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 7h18M3 12h18M3 17h18"/>
          </svg>
          <span *ngIf="!isCollapsed" class="text-sm font-bold text-black tracking-wide">
            Production
          </span>
        </div>
        <svg 
          *ngIf="!isCollapsed"
          class="w-4 h-4 transition-transform duration-200 text-black" 
          [class.rotate-180]="menuStates.production"
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </button>
      <div 
        class="space-y-1 pl-4 transition-all duration-200 overflow-hidden"
        [class.max-h-0]="!menuStates.production"
        [class.max-h-96]="menuStates.production">
        <a routerLink="/production/commandes" 
           routerLinkActive="bg-primary/25"
           [ngClass]="{ 'bg-primary/25': isActiveLink('/production/commandes') }"
           class="flex items-center space-x-2 p-2 rounded-lg hover:bg-primary/25 transition-colors"
           [class.justify-center]="isCollapsed">
          <span *ngIf="!isCollapsed">Commandes</span>
        </a>
        <a routerLink="/production/lignes-commande" 
           routerLinkActive="bg-primary/25"
           [ngClass]="{ 'bg-primary/25': isActiveLink('/production/lignes-commande') }"
           class="flex items-center space-x-2 p-2 rounded-lg hover:bg-primary/25 transition-colors"
           [class.justify-center]="isCollapsed">
          <span *ngIf="!isCollapsed">Lignes de commande</span>
        </a>
        <a routerLink="/production/bons-production" 
           routerLinkActive="bg-primary/25"
           [ngClass]="{ 'bg-primary/25': isActiveLink('/production/bons-production') }"
           class="flex items-center space-x-2 p-2 rounded-lg hover:bg-primary/25 transition-colors"
           [class.justify-center]="isCollapsed">
          <span *ngIf="!isCollapsed">Bons de production</span>
        </a>
      </div>
    </div>
  </nav>
</aside>