<div class="bg-white rounded-lg shadow-sm p-6">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-lg font-medium text-gray-900">Liste des privilèges</h2>
    <!-- <button (click)="showCreateDialog()" class="btn-primary flex items-center">
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
      </svg>
      Ajouter un privilège
    </button> -->
  </div>

  <div *ngIf="isLoading" class="animate-pulse">
    <div class="h-4 bg-gray-200 rounded w-1/4 mb-2"></div>
    <div class="h-3 bg-gray-200 rounded w-1/3"></div>
  </div>

  <!-- Tableau des privilèges -->
  <div class="bg-white overflow-x-auto">
    <table class="min-w-full w-full divide-y divide-gray-200 mb-36">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-b w-12">N°</th>
          <th class="px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-b">Code</th>
          <th class="px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-b max-w-xs">Libellé</th>
          <th class="px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-b max-w-sm">Description</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <tr *ngFor="let privilege of privileges" class="group transition hover:bg-primary/10 focus-within:bg-primary/20">
          <td class="px-4 py-4 text-gray-700 font-bold flex items-center gap-2">
            {{ privileges.indexOf(privilege) + 1 }}
          </td>
          <td class="px-4 py-4">
            <span class="inline-block bg-primary/10 text-primary font-semibold px-3 py-1 rounded-full text-xs shadow-sm border border-primary/20 break-words max-w-[120px]">{{ privilege.code }}</span>
          </td>
          <td class="px-4 py-4 text-gray-800 font-medium break-words max-w-xs">
            {{ privilege.libelle }}
          </td>
          <td class="px-4 py-4 text-gray-600 break-words max-w-sm">
            <span *ngIf="privilege.description && privilege.description.length > 40" class="truncate cursor-pointer" [title]="privilege.description">
              {{ privilege.description | slice:0:85 }}... <span class="text-primary/70">Voir plus</span>
            </span>
            <span *ngIf="!privilege.description || privilege.description.length <= 40">
              {{ privilege.description || '-' }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <app-paginator
    [total]="totalItems"
    [limit]="pageSize"
    [offset]="(currentPage - 1) * pageSize"
    [page]="currentPage"
    [pageSizeOptions]="pageSizeOptions"
    (pageChanged)="changePage($event)"
    (limitChanged)="changePageSize($event)"
  ></app-paginator>
</div>
